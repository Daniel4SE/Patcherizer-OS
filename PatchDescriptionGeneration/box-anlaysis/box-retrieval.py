import pandas as pd
import matplotlib.pyplot as plt
import torch
import ipdb


cc2vec =[0.4286, 0.0, 0.0, 1.0, 0.2105, 0.0, 0.0, 0.1429, 0.0, 0.0, 0.5, 0.0, 0.0909, 0.25, 0.0, 0.2, 0.0625, 0.0, 0.2, 0.1538, 0.9167, 0.0, 0.0, 0.0, 0.25, 0.0, 0.0, 0.0, 0.2, 0.0, 0.2727, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1667, 0.0, 0.0, 0.875, 0.0, 0.1429, 0.0, 0.0, 0.0, 0.0, 0.2, 0.0, 0.0, 0.75, 0.0, 0.6667, 0.1667, 0.0, 0.4, 0.3333, 0.0, 0.375, 0.0, 0.0833, 0.0, 0.0, 0.0, 0.6, 0.125, 0.0, 0.2727, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.3333, 0.1667, 1.0, 0.0, 0.6364, 0.3333, 0.0, 0.0, 0.0, 0.3333, 0.8182, 0.5, 0.5, 0.0, 0.6, 0.1429, 0.0, 0.7778, 0.0, 0.3333, 0.1667, 0.0909, 0.875, 0.0, 0.1667, 0.0, 0.0, 0.0, 0.1429, 0.0833, 0.25, 0.0, 0.0, 0.1667, 0.8333, 0.0455, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.4286, 0.75, 0.1429, 0.0, 0.2, 0.0, 0.3333, 1.0, 0.0, 0.0, 0.0, 0.0, 0.1429, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.2, 0.0909, 0.1667, 0.0, 0.0, 0.0, 0.2857, 0.3333, 0.0, 0.0, 0.0, 0.25, 0.1818, 0.0, 0.0, 0.6667, 0.0, 0.125, 1.0, 0.0, 0.0, 0.0, 0.1429, 0.1667, 0.375, 0.0, 0.6, 0.1667, 0.0, 0.0, 0.2, 0.1111, 0.2, 0.2, 0.0, 1.0, 0.0, 0.0, 0.0, 0.6, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1, 0.7778, 0.125, 0.1111, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
nngen = [0.625, 0.5, 0.0, 1.0, 0.1, 0.0, 0.0, 0.125, 0.0, 0.0, 0.5, 0.25, 0.0, 0.2857, 0.0, 0.0, 0.1667, 0.0, 0.1667, 0.0833, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1667, 0.5, 0.0, 0.3333, 0.0, 0.0, 0.3333, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.125, 0.2, 0.0, 1.0, 0.5, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0, 0.0, 0.0, 0.2857, 0.0, 0.0, 0.0, 0.0476, 0.0, 0.0, 0.0, 0.0, 0.375, 0.0, 0.0, 0.0833, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.3333, 0.0, 1.0, 0.0, 0.8571, 0.3333, 0.0, 0.0, 0.0, 0.4, 1.0, 1.0, 0.8, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 0.25, 0.0667, 0.25, 0.8889, 0.0, 0.3333, 0.0, 0.0, 0.0, 0.0769, 0.0909, 0.3333, 0.0, 0.0, 0.0, 1.0, 0.0, 0.1667, 0.125, 0.25, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.3333, 0.0769, 0.5, 0.1667, 0.0, 0.0, 1.0, 0.1429, 0.125, 0.0, 0.0, 0.0476, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.2, 0.25, 0.4, 0.0, 0.6667, 0.0, 0.15, 0.4, 0.0, 0.0, 0.0, 0.5, 0.0, 0.1429, 0.0, 1.0, 0.0, 0.0556, 1.0, 0.0, 0.1667, 0.0, 0.1667, 1.0, 0.3333, 0.0, 0.75, 0.0, 0.0, 0.0, 0.5, 0.0, 0.125, 0.5, 0.0, 1.0, 0.0, 0.3333, 0.1, 1.0, 0.0, 0.2, 1.0, 0.0, 0.0, 0.0, 0.0, 0.25, 1.0, 0.2, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
corec = [0.1, 0.3333, 0.0, 0.5, 0.2, 0.1667, 0.0, 0.0, 0.0, 0.0, 0.25, 0.3333, 0.3333, 0.2, 0.3333, 0.3333, 0.25, 0.4, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.3333, 0.2, 0.0, 0.6667, 0.125, 0.0, 0.0, 0.0, 0.0, 0.0, 0.3333, 0.0, 0.4286, 0.2, 0.0, 0.3333, 0.25, 0.2, 0.0, 0.2857, 0.0, 0.1667, 0.0, 0.0, 0.3333, 0.25, 0.25, 0.0, 0.0, 0.6667, 0.3333, 0.0, 0.125, 0.2, 0.0, 0.0, 0.1667, 0.0, 0.0, 0.0, 0.3333, 0.3333, 0.1667, 0.0, 0.1667, 0.1429, 0.6667, 0.0, 0.1818, 0.0, 0.0, 0.0, 0.0, 0.3333, 0.3333, 0.25, 0.3333, 0.3333, 0.0, 0.3333, 0.0909, 0.5, 0.0, 0.0, 0.0, 0.6667, 1.0, 0.0, 0.25, 0.0, 0.0, 0.3333, 0.3333, 0.0, 0.2857, 0.0, 0.0, 0.4, 0.0, 0.1429, 0.3333, 0.0, 0.3333, 0.0, 0.5, 0.0, 0.0, 0.2, 0.0, 0.1667, 0.2, 0.0, 0.3333, 0.1667, 0.3, 0.0, 0.2, 0.1667, 0.0, 0.1667, 0.1429, 0.3333, 0.0, 0.0, 0.5, 0.3333, 0.3333, 0.3333, 0.0, 0.0, 0.2, 0.3333, 0.0, 0.0, 0.2857, 0.0, 0.0, 0.0, 0.0, 0.2, 0.0, 0.0, 0.2, 0.0, 0.25, 0.0, 0.2, 0.3333, 0.0, 0.2, 0.2, 0.2, 0.6667, 0.0, 0.1429, 0.25, 0.1, 0.1667, 0.0, 0.0, 0.0, 0.4, 0.3333, 1.0, 0.2, 0.1667, 0.25, 0.3333, 0.25, 0.1429, 0.25, 0.1667, 0.6667, 0.0, 0.25, 0.1429, 0.0, 0.2857, 0.0, 0.0, 0.1667, 0.0, 0.6667, 0.0, 0.3333, 0.0, 0.0, 0.75, 1.0, 0.0, 0.3333, 0.0, 0.0, 0.4]
patcherizer=[0.4286, 1.0, 0.0, 1.0, 0.3, 0.1111, 0.125, 0.125, 0.0, 1.0, 0.4, 0.2, 0.25, 0.7143, 0.3333, 0.25, 0.3333, 0.375, 0.0, 0.3333, 1.0, 0.0, 0.1, 0.25, 0.0, 0.25, 0.3333, 0.2, 0.4, 0.4, 0.3333, 0.5, 0.3333, 0.0, 0.6667, 0.1429, 0.1111, 0.0, 0.0, 0.1, 0.2857, 0.4, 1.0, 0.1, 0.125, 0.25, 0.0, 0.1667, 1.0, 0.1667, 0.1429, 0.25, 1.0, 1.0, 1.0, 0.0, 0.0, 0.3333, 0.0, 0.1818, 0.0, 0.125, 1.0, 0.1667, 0.3333, 1.0, 0.1429, 0.2222, 0.0, 0.1, 0.5, 0.5, 0.1667, 0.7143, 0.0, 0.1538, 0.0, 0.0, 0.3333, 0.0, 0.9091, 0.3333, 0.0, 0.0, 0.0714, 0.5, 1.0, 1.0, 0.8333, 0.5, 1.0, 0.0, 0.1667, 1.0, 0.25, 0.0, 0.0, 0.0, 1.0, 0.4, 0.0, 0.5, 0.0, 0.25, 0.2222, 0.0714, 0.5, 0.1667, 0.25, 0.0909, 1.0, 0.1111, 0.0, 0.4, 0.0, 0.3333, 0.25, 0.3077, 0.6, 0.0, 0.1111, 0.0769, 0.0588, 0.75, 0.25, 1.0, 0.0, 0.0, 0.0, 1.0, 0.5, 0.1667, 0.0, 0.0, 0.4, 1.0, 0.0, 0.3333, 0.1538, 0.1, 0.0, 0.1667, 0.3333, 0.0, 0.0909, 0.75, 0.4, 0.0769, 0.2, 0.0, 0.0, 0.3333, 1.0, 0.3, 0.25, 0.1111, 1.0, 0.3333, 0.0833, 1.0, 0.2222, 0.1538, 0.4, 0.1429, 0.0, 0.8, 0.125, 0.6, 0.1429, 0.5, 0.0, 1.0, 0.375, 0.1667, 0.3333, 0.2, 1.0, 0.0833, 0.6667, 0.1429, 0.7, 0.5, 0.6667, 1.0, 0.125, 0.0, 0.3333, 0.0, 1.0, 1.0, 0.3333, 0.0833, 0.25, 0.0, 0.0, 0.0, 0.0833, 0.75]

cc2vec=[i for i in cc2vec if i!=0]
nngen=[i for i in nngen if i!=0]
corec=[i for i in corec if i!=0]
patcherizer=[i for i in patcherizer if i!=0.0]



minlen = min([len(patcherizer), len(cc2vec), len(nngen), len(corec)])
print(minlen)
patcherizer = sorted(patcherizer,reverse=True)[:minlen]
nngen = sorted(nngen,reverse=True)[:minlen]
cc2vec = sorted(cc2vec,reverse=True)[:minlen]
corec = sorted(corec, reverse = True)[:minlen]



font1 = {'family':'Nimbus Roman', 'weight': 'bold', 'style': 'normal', 'size': 16}

print(patcherizer)
plt.figure(figsize=(4,7))
# plt.title('Examples of boxplot', fontsize=20)
# plt.ylabel('BLEU score')
labels=['CC2Vec', 'NNGen', 'CoRec', 'Patcherizer']
# plt.boxplot([cc2vec, nngen, corec, patcherizer],labels=labels)
# plt.xticks(labels=labels)
# plt.boxplot([[],[],[],patcherizer],patch_artist=True, boxprops={'color':'grey','facecolor':'grey'})
plt.boxplot([cc2vec, nngen, corec, patcherizer],labels=labels)
plt.xticks(rotation=30)
# plt.ylabel('BLEU score', font1)
plt.savefig('box-retrieval.pdf')